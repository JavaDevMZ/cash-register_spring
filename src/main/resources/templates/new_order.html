<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<input type="hidden" id="isSenior" th:value="${isSenior}"/>
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="../static/styles.css"/>
    <title th:text="#{cashier.new_order}"/>
</head>
<body>
<div th:insert="common-header.html"></div>

    <h1 th:text="#{cashier.new_order}"/>
   <form action="/new_order?method=add" method="post">
       <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
    <div>
        <label for="id" th:text="#{cashier.product_name_id}"/>
        <input type="text" name="nameOrId" id="id" placeholder="0"/>
    </div>
    <div>
        <label for="quantity" th:text="#{product.quantity}"/>
        <input type="number" name="quantity" id="quantity" placeholder="0"/>
    </div>

    <div>
        <input type="submit"  th:value="#{cashier.add}"/>
    </div>

</form>

        <p th:if="${items==null||items.isEmpty()}" th:text="#{cashier.empty_order}"/>
    <div th:if="${items!=null&&!items.isEmpty()}" th:each="item : ${items}">
        <form>
            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
        <input th:value="${item.key.getName()}" name="nameOrId" readonly="readonly"/>
        <p th:text="${item.key.price} + '$ '" style="display: inline"/>
            <p style="display: inline">
                x <input type="number" id="change_qty" name="quantity" th:value="${item.value.quantity}"/>
            </p>
            <input type="submit" formaction="/new_order?method=edit_item" formmethod="post" th:value="#{cashier.change_qty}"/>
            <input th:if="${isSenior}" type="submit" formaction="/new_order?method=remove_item" formmethod="post" th:value="#{senior_cashier.remove}"/>
            <b th:text="${item.value.totalAmount}"/>
        </form>
    </div>

    <form>
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
        <input type="submit" formmethod="post" formaction="/new_order?method=submit" th:value="#{cashier.close}"/>
        <input th:if="${isSenior}" type="submit" formmethod="post" formaction="/new_order?method=cancel" th:value="#{senior_cashier.cancel}"/>
    </form>




</body>
</html>